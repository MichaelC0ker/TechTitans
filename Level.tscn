[gd_scene load_steps=22 format=2]

[ext_resource path="res://Assets/MainPlayer.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scripts/MainPlayer.gd" type="Script" id=2]
[ext_resource path="res://game_env.tres" type="Environment" id=3]
[ext_resource path="res://Textures/Ground048_1K_Color.png" type="Texture" id=4]
[ext_resource path="res://Textures/Ground048_1K_Roughness.png" type="Texture" id=5]
[ext_resource path="res://Assets/blocksLibrary.tres" type="MeshLibrary" id=6]
[ext_resource path="res://Assets/enemy.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/coin.tscn" type="PackedScene" id=8]
[ext_resource path="res://Sprite/hud_coin.png" type="Texture" id=9]
[ext_resource path="res://Fonts/AegeanHinted.ttf" type="DynamicFontData" id=10]
[ext_resource path="res://Scripts/Counter.gd" type="Script" id=11]

[sub_resource type="BoxShape" id=1]

[sub_resource type="CubeMesh" id=2]

[sub_resource type="Skin" id=3]

[sub_resource type="BoxShape" id=4]
extents = Vector3( 15, 1, 15 )

[sub_resource type="CubeMesh" id=5]
size = Vector3( 30, 2, 30 )

[sub_resource type="SpatialMaterial" id=6]
albedo_texture = ExtResource( 4 )
roughness_texture_channel = 3
normal_enabled = true
normal_scale = -16.0
normal_texture = ExtResource( 5 )
uv1_scale = Vector3( 0.1, 0.1, 0.1 )
uv1_triplanar = true

[sub_resource type="Animation" id=7]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( -3.64576, 2, -0.366153 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 30, 0 ) ]
}

[sub_resource type="Animation" id=8]
resource_name = "enemy1Animation"
length = 5.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.4, 3, 4.8 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( -7.05919, 2, -1.00068 ), Vector3( -4.32844, 2, -1.00068 ), Vector3( -4.32844, 2, 12.4182 ), Vector3( -7.05919, 2, -1.00068 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath(".:rotation_degrees")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 0.4, 3 ),
"transitions": PoolRealArray( 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 0, 0, -100 ), Vector3( 800, 0, 0 ) ]
}

[sub_resource type="DynamicFont" id=9]
size = 50
font_data = ExtResource( 10 )

[sub_resource type="DynamicFont" id=10]
size = 80
font_data = ExtResource( 10 )

[node name="Level" type="Spatial"]

[node name="Box" type="RigidBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.53442, 0 )
visible = false

[node name="CollisionShape" type="CollisionShape" parent="Box"]
shape = SubResource( 1 )

[node name="MeshInstance" type="MeshInstance" parent="Box"]
mesh = SubResource( 2 )
skin = SubResource( 3 )

[node name="Floor" type="StaticBody" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="Floor"]
shape = SubResource( 4 )

[node name="MeshInstance" type="MeshInstance" parent="Floor"]
mesh = SubResource( 5 )
material/0 = SubResource( 6 )

[node name="MainPlayer" parent="." instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
script = ExtResource( 2 )

[node name="Spatial" type="Spatial" parent="MainPlayer"]
transform = Transform( 1, 0, 0, 0, 0.92796, 0.37268, 0, -0.37268, 0.92796, 0, 5.7126, 14.5089 )

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( -0.507012, 0.861939, 0, 0.0413843, 0.0243432, 0.998847, 0.860945, 0.506427, -0.048013, -8.64434, 8.14061, -3.13479 )
environment = ExtResource( 3 )
fov = 78.75
target = NodePath("../MainPlayer/Spatial")
speed = 3.0
enabled = true

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 0.494725, -0.460859, -0.736788, 0.781321, 0.607076, 0.144903, 0.380506, -0.647355, 0.660414, 11.0788, 13.8866, -4.77354 )
light_color = Color( 0.545098, 0.372549, 0.372549, 1 )
light_energy = 1.44
shadow_enabled = true
shadow_bias = 1.0
directional_shadow_max_distance = 40.0

[node name="GridMap" type="GridMap" parent="."]
mesh_library = ExtResource( 6 )
cell_size = Vector3( 1, 1, 1 )
data = {
"cells": PoolIntArray( 65545, 0, 0, 65550, 0, 0, 131057, 0, 0, 131063, 0, 0, 131069, 0, 0, 65545, 1, 0, 65546, 1, 0, 65550, 1, 0, 131057, 1, 0, 131063, 1, 0, 131069, 1, 0, 65546, 2, 0, 65550, 2, 0, 131057, 2, 0, 131061, 2, 0, 131062, 2, 0, 131063, 2, 0, 131064, 2, 0, 131069, 2, 0, 65536, 3, 0, 65537, 3, 0, 65546, 3, 0, 65550, 3, 0, 131057, 3, 0, 131061, 3, 0, 131064, 3, 0, 131069, 3, 0, 131070, 3, 0, 131071, 3, 0, 65546, 4, 0, 65550, 4, 0, 131057, 4, 0, 131064, 4, 0, 65546, 5, 0, 65550, 5, 0, 131057, 5, 0, 131064, 5, 0, 65546, 6, 0, 65550, 6, 0, 131056, 6, 0, 131057, 6, 0, 131064, 6, 0, 65546, 7, 0, 65550, 7, 0, 131056, 7, 0, 131064, 7, 0, 65546, 8, 0, 65550, 8, 0, 131056, 8, 0, 65537, 9, 0, 65538, 9, 0, 65539, 9, 0, 65540, 9, 0, 65541, 9, 0, 65542, 9, 0, 65546, 9, 0, 65550, 9, 0, 131056, 9, 0, 131057, 9, 0, 131061, 9, 0, 65536, 10, 0, 65537, 10, 0, 65546, 10, 0, 65550, 10, 0, 131057, 10, 0, 131061, 10, 0, 131063, 10, 0, 131064, 10, 0, 131070, 10, 0, 131071, 10, 0, 65550, 11, 0, 131057, 11, 0, 131061, 11, 0, 131062, 11, 0, 131063, 11, 0, 65550, 12, 0, 131057, 12, 0, 65550, 13, 0, 131057, 13, 0, 65536, 14, 0, 65537, 14, 0, 65538, 14, 0, 65539, 14, 0, 65540, 14, 0, 65541, 14, 0, 65542, 14, 0, 65543, 14, 0, 65544, 14, 0, 65545, 14, 0, 65546, 14, 0, 65547, 14, 0, 65548, 14, 0, 65549, 14, 0, 65550, 14, 0, 131057, 14, 0, 131058, 14, 0, 131059, 14, 0, 131060, 14, 0, 131061, 14, 0, 131062, 14, 0, 131063, 14, 0, 131064, 14, 0, 131065, 14, 0, 131066, 14, 0, 131067, 14, 0, 131068, 14, 0, 131069, 14, 0, 131070, 14, 0, 131071, 14, 0, 65536, 15, 0, 65537, 15, 0, 65538, 15, 0, 65539, 15, 0, 65540, 15, 0, 65541, 15, 0, 65546, 15, 0, 131057, 15, 0, 131058, 15, 0, 131059, 15, 0, 131060, 15, 0, 131061, 15, 0, 131062, 15, 0, 131063, 15, 0, 131064, 15, 0, 131065, 15, 0, 131068, 15, 0, 131070, 15, 0, 131071, 15, 0, 65537, 16, 0, 65538, 16, 0, 65539, 16, 0, 65540, 16, 0, 65541, 16, 0, 65545, 16, 0, 65546, 16, 0, 131068, 16, 0, 131069, 16, 0, 65544, 17, 0, 65545, 17, 0, 131069, 17, 0, 131070, 17, 0, 65536, 18, 0, 65537, 18, 0, 65538, 18, 0, 65539, 18, 0, 65540, 18, 0, 65541, 18, 0, 65542, 18, 0, 65543, 18, 0, 65544, 18, 0, 131070, 18, 0, 131071, 18, 0, 65536, 65515, 0, 65537, 65515, 0, 65538, 65515, 0, 65539, 65515, 0, 65540, 65515, 0, 65541, 65515, 0, 65542, 65515, 0, 65543, 65515, 0, 65544, 65515, 0, 131069, 65515, 0, 131070, 65515, 0, 131071, 65515, 0, 65544, 65516, 0, 65545, 65516, 0, 131066, 65516, 0, 131067, 65516, 0, 131068, 65516, 0, 65545, 65517, 0, 131064, 65517, 0, 131065, 65517, 0, 131066, 65517, 0, 65545, 65518, 0, 131064, 65518, 0, 65536, 65519, 0, 65537, 65519, 0, 65538, 65519, 0, 65539, 65519, 0, 65540, 65519, 0, 65541, 65519, 0, 65542, 65519, 0, 65545, 65519, 0, 131064, 65519, 0, 131071, 65519, 0, 65536, 65520, 0, 65537, 65520, 0, 65538, 65520, 0, 65539, 65520, 0, 65540, 65520, 0, 65541, 65520, 0, 65542, 65520, 0, 65543, 65520, 0, 65544, 65520, 0, 65545, 65520, 0, 131063, 65520, 0, 131070, 65520, 0, 131071, 65520, 0, 65536, 65521, 0, 65537, 65521, 0, 65538, 65521, 0, 65539, 65521, 0, 65540, 65521, 0, 65541, 65521, 0, 65542, 65521, 0, 65543, 65521, 0, 65544, 65521, 0, 65545, 65521, 0, 65546, 65521, 0, 65547, 65521, 0, 65548, 65521, 0, 65549, 65521, 0, 65550, 65521, 0, 65551, 65521, 0, 65552, 65521, 0, 65553, 65521, 0, 131057, 65521, 0, 131058, 65521, 0, 131059, 65521, 0, 131060, 65521, 0, 131061, 65521, 0, 131062, 65521, 0, 131063, 65521, 0, 131064, 65521, 0, 131065, 65521, 0, 131066, 65521, 0, 131067, 65521, 0, 131068, 65521, 0, 131069, 65521, 0, 131070, 65521, 0, 131071, 65521, 0, 65550, 65522, 0, 131057, 65522, 0, 65550, 65523, 0, 131057, 65523, 0, 65550, 65524, 0, 131057, 65524, 0, 131066, 65524, 0, 131067, 65524, 0, 131068, 65524, 0, 65545, 65525, 0, 65546, 65525, 0, 65550, 65525, 0, 131057, 65525, 0, 131060, 65525, 0, 131061, 65525, 0, 131062, 65525, 0, 131063, 65525, 0, 131064, 65525, 0, 131065, 65525, 0, 131066, 65525, 0, 65546, 65526, 0, 65550, 65526, 0, 131057, 65526, 0, 131060, 65526, 0, 131071, 65526, 0, 65546, 65527, 0, 65550, 65527, 0, 131057, 65527, 0, 131060, 65527, 0, 131071, 65527, 0, 65539, 65528, 0, 65540, 65528, 0, 65541, 65528, 0, 65542, 65528, 0, 65546, 65528, 0, 65550, 65528, 0, 131057, 65528, 0, 131060, 65528, 0, 131071, 65528, 0, 65542, 65529, 0, 65546, 65529, 0, 65550, 65529, 0, 131057, 65529, 0, 131071, 65529, 0, 65542, 65530, 0, 65546, 65530, 0, 65550, 65530, 0, 131057, 65530, 0, 131063, 65530, 0, 65542, 65531, 0, 65550, 65531, 0, 131057, 65531, 0, 131063, 65531, 0, 65542, 65532, 0, 65550, 65532, 0, 131057, 65532, 0, 131063, 65532, 0, 65542, 65533, 0, 65550, 65533, 0, 131057, 65533, 0, 131063, 65533, 0, 131064, 65533, 0, 131065, 65533, 0, 131066, 65533, 0, 131067, 65533, 0, 131068, 65533, 0, 131069, 65533, 0, 65538, 65534, 0, 65539, 65534, 0, 65540, 65534, 0, 65541, 65534, 0, 65542, 65534, 0, 65550, 65534, 0, 131057, 65534, 0, 131063, 65534, 0, 131069, 65534, 0, 65542, 65535, 0, 65543, 65535, 0, 65544, 65535, 0, 65545, 65535, 0, 65550, 65535, 0, 131057, 65535, 0, 131063, 65535, 0, 131069, 65535, 0 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 1, 0 )
}

[node name="enemy1" parent="." instance=ExtResource( 7 )]
transform = Transform( 0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, 0.866025, -3.64576, 2, -0.366153 )

[node name="enimy1Animation" type="AnimationPlayer" parent="enemy1"]
autoplay = "enemy1Animation"
anims/RESET = SubResource( 7 )
anims/enemy1Animation = SubResource( 8 )

[node name="Coins" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.72437, 0, -8.29293 )

[node name="coinHolder1" type="Spatial" parent="Coins"]

[node name="coin" parent="Coins/coinHolder1" instance=ExtResource( 8 )]

[node name="Control" type="Control" parent="."]
margin_right = 1280.0
margin_bottom = 720.0

[node name="Sprite" type="Sprite" parent="Control"]
position = Vector2( 1036, 90 )
scale = Vector2( 0.292683, 0.230524 )
texture = ExtResource( 9 )

[node name="Label" type="Label" parent="Control"]
margin_left = 1116.0
margin_top = 64.0
margin_right = 1196.0
margin_bottom = 114.0
custom_colors/font_color = Color( 0.686275, 0.615686, 0.0431373, 1 )
custom_fonts/font = SubResource( 9 )
text = "x"

[node name="Counter" type="Label" parent="Control"]
margin_left = 1150.0
margin_top = 46.0
margin_right = 1254.0
margin_bottom = 127.0
custom_colors/font_color = Color( 0.686275, 0.615686, 0.0431373, 1 )
custom_fonts/font = SubResource( 10 )
text = "Qa"
script = ExtResource( 11 )

[connection signal="body_entered" from="enemy1" to="MainPlayer" method="_on_enemy_body_entered"]
[connection signal="body_entered" from="Coins/coinHolder1/coin" to="Coins/coinHolder1/coin" method="_on_coin_body_entered"]
[connection signal="coinCollected" from="Coins/coinHolder1/coin" to="Control/Counter" method="_on_coin_collected"]
